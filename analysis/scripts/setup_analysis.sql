CREATE SCHEMA analysis;


ALTER DEFAULT PRIVILEGES IN SCHEMA analysis
GRANT SELECT ON TABLES TO data_analyzer;
ALTER DEFAULT PRIVILEGES IN SCHEMA analysis
GRANT USAGE,
    SELECT ON SEQUENCES TO data_analyzer;
ALTER DEFAULT PRIVILEGES IN SCHEMA analysis
GRANT EXECUTE ON FUNCTIONS TO data_analyzer;
ALTER DEFAULT PRIVILEGES IN SCHEMA analysis
GRANT USAGE ON TYPES TO data_analyzer;

ALTER DEFAULT PRIVILEGES IN SCHEMA PUBLIC
GRANT SELECT ON TABLES TO data_analyzer;
ALTER DEFAULT PRIVILEGES IN SCHEMA PUBLIC
GRANT USAGE,
    SELECT ON SEQUENCES TO data_analyzer;
ALTER DEFAULT PRIVILEGES IN SCHEMA PUBLIC
GRANT EXECUTE ON FUNCTIONS TO data_analyzer;
ALTER DEFAULT PRIVILEGES IN SCHEMA PUBLIC
GRANT USAGE ON TYPES TO data_analyzer;

ALTER DEFAULT PRIVILEGES
GRANT USAGE ON SCHEMAS TO data_analyzer;

GRANT USAGE ON SCHEMA analysis TO data_analyzer;